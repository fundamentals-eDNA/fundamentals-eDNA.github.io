---
title: Connecting RStudio and GitHub
description: Andy's reflection from overview discussion of eDNA
author: Andy Rominger
---

These are some written instructions for connecting RStudio and GitHub.  These instructions assume you've already successfully done the following:

1. made a free account with github.com
2. downloaded and installed git (or checked that it's alread availible on your computer)
3. downloaded and installed R and RStudio (or checked that they're already availible on your computer)


## Conecting RStudio and GitHub

We will use two R packages to help us connect RStudio and GitHub: *usethis* and *gitcreds*. Let's install those packages by typing the following in the R console

```
install.packages("usethis")
install.packages("gitcreds")
```

A common problem has been that *usethis* has a dependency on the package *crayon* which is currently not playing nice.  If you have errors involving *crayon* try this:

```
install.packages("crayon", type = "source")
install.packages("usethis")
```

Now we can use functions from those packages to help us continue.  First we use *usethis* to set up a personal access tokin that will serve as our login credential with GitHub.  We do that by typing this into the R console:

```
library(usethis)
create_github_token()
```

That should open up a web broser page where you might be promted to log into your GitHub account. Do that and then on the next page scroll to the bottom and click the "Generate token" button.  You will then see on a new page a string of numbers and letters---that's the token. Copy that token and paste it somewhere temporarily, like a blank text editor document or a blank R script, it doesnt' matter you'll soon delete it.

Now come back to RStudio and run the following in the R console:

```
library(gitcreds)
gitcreds_set()
```

This will prompt you to enter a password or token; now you can paste the token you just generated here and hit enter.

You should now be good to go.  

It's possible you've already gone through this process.  If that's the case you'll see this:

```
-> Your current credentials for 'https://github.com':

  protocol: https
  host    : github.com
  username: PersonalAccessToken
  password: <-- hidden -->

-> What would you like to do? 

1: Keep these credentials
2: Replace these credentials
3: See the password / token

Selection: 
```

Enter 1 for your selection. There will be an error message but you can ignore it.

Now we should hopefully be all connected!

## Testing our connection

Now we'll double check by going to our GitHub profile and making a new repository.  We'll then clone this repo to our computers, modify it locally, sage and commit those modifications, then push back to GitHub.

First let's make a new repo. Go to your GitHub profile and click the plus sign in the top right, select "New repository".

![](img/github_how2/fig_add_repo.png){:width="100%"}


Give the repository at name, a description, make it public and select the option to add a README.  Then hit "Create repository"

![](img/github_how2/fig_add_repo2.png){:width="100%"}


Next hit the green "Code" button and copy the HTTPS URL to your clipboard.

![](img/github_how2/fig_clone.png){:width="100%"}


Now head back to RStudio and selection File > New Project. Then select "Version control" then "Git". Finally, paste the HTTPS URL that you copied from GitHub. The "Project directory name" should auto-population. Choose a meaningful place to house this project, select the option to open in a new session and hit "Create Project".

![](img/github_how2/fig_git_project.png){:width="50%"}

You should now have a new project open!  Navigate to the Git tab and notice that two file names are listed with yellow question marks by them.  

![](img/github_how2/fig_git_tab.png){:width="100%"}



Those files were auto-generated by RStudio.  The question marks indicate that they are new files which Git is currently not tracking.  Click the radio button next to each one under the "Staged" column.  This stages those files.  We can now hit "Commit" to add a commit message and commit the changes.  If you have success it should look something like this (possibly with a warning about username or email, that's ok!):

![](img/github_how2/fig_commit.png){:width="50%"}


Once we've committed the changes we can at long last push to GitHub.  Hit the push button!  Hopefully it looks something like this (possibly with a warning about username or email, that's ok!):

![](img/github_how2/fig_push.png){:width="50%"}


While committing and pushing you might get warning messages about your username and email. You can follow the prompts to specify those for future use.

Go back to your web browser, refresh the repo page, and you should see the new files you just pushed!
